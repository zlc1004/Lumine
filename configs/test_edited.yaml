# Lumine Test Config (Edited Data) - Qwen2-VL-2B

model:
  model_path: /workspace/Lumine/models/Qwen2-VL-2B-Base
  attn_implementation: flash_attention_2

data:
  train_path: /workspace/Lumine/data/train_unix.jsonl
  chat_template: qwen2vl
  max_seq_len: 4096
  train_size: 1000
  datasets_type: mapping
  source_name: lumine_pretrain
  num_workers: 4
  mm_configs:
    image_max_pixels: 921600
    video_max_pixels: 921600
    max_frames: 4
    fps: 2.0

train:
  output_dir: output/test_edited
  data_parallel_mode: fsdp2
  wandb_project: lumine
  wandb_name: test_edited
  rmpad: false
  rmpad_with_pos_ids: true
  ulysses_parallel_size: 1
  freeze_vit: true
  lr: 1.0e-5
  init_device: meta
  lr_decay_style: cosine
  num_train_epochs: 1
  micro_batch_size: 1
  global_batch_size: 2
  max_steps: 10
  save_steps: 10
  save_epochs: 1
  save_hf_weights: true
  enable_gradient_checkpointing: true
